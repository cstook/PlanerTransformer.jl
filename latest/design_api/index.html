<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Design API · PlanerTransformer</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/highlightjs/default.css" rel="stylesheet" type="text/css"/><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>PlanerTransformer</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../install/">Installation</a></li><li><a class="toctext" href="../introduction/">Introduction</a></li><li class="current"><a class="toctext" href>Design API</a><ul class="internal"></ul></li><li><a class="toctext" href="../data_entry_api/">Data Entry API</a></li><li><a class="toctext" href="../APIindex/">API index</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Design API</a></li></ul><a class="edit-page" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/docs/src/design_api.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Design API</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Design-1" href="#Design-1">Design</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.PCB_Specification" href="#PlanerTransformer.PCB_Specification"><code>PlanerTransformer.PCB_Specification</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">PCB_Specification(trace_edge_gap,
                  trace_trace_gap,
                  outer_copper_thickness,
                  inner_copper_thickness = 0.0,
                  number_of_layers = 2,
                  ρ_20=1.68e-8,
                  temperature_coefficient=0.003862)</code></pre><p>Store PCB data.</p><p>** Fields **</p><ul><li><p><code>trace_edge_gap</code>          – minimum distance from trace to PCB edge (m)</p></li><li><p><code>trace_trace_gap</code>         – minimum distance between traces (m)</p></li><li><p><code>outer_copper_thickness</code>  – thickness of top and bottom copper layers (m)</p></li><li><p><code>inner_copper_thickness</code>  – thickness of inner copper layers (m)</p></li><li><p><code>number_of_layers</code>        – number of copper layers</p></li><li><p><code>ρ_20</code>                    – conductivity, default to 1.68e-8 Ωm for Cu @ 20C</p></li><li><p><code>temperature_coefficient</code> – default to 0.003862 1/K for Cu</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/types.jl#L107-L126">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.copper_weight_to_meters" href="#PlanerTransformer.copper_weight_to_meters"><code>PlanerTransformer.copper_weight_to_meters</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">copper_weight_to_meters(oz)</code></pre><p>PCB copper thickness is typicaly given in ounces.  This function multiplies by 0.48e-3 to give thickness in meters.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/methods.jl#L105-L110">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.WindingLayer" href="#PlanerTransformer.WindingLayer"><code>PlanerTransformer.WindingLayer</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">WindingLayer</code></pre><p><strong>Fields</strong></p><ul><li><p><code>width</code>           – width of trace (m)</p></li><li><p><code>length</code>          – length of trace (m)</p></li><li><p><code>thickness</code>       – thickness of trace (m)</p></li><li><p><code>number_of_turns</code> – number of turns</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/types.jl#L152-L160">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.winding_layer" href="#PlanerTransformer.winding_layer"><code>PlanerTransformer.winding_layer</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">winding_layer(pcb :: PCB_Specification,
             isouter :: Bool,
             core :: CoreGeometry,
             number_of_turns :: Int)</code></pre><p>Create a <code>WindingLayer</code> for a specific core and PCB.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/methods.jl#L79-L86">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.Winding" href="#PlanerTransformer.Winding"><code>PlanerTransformer.Winding</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Winding(pcb::PCB_Specification,
        windinglayers,
        isseries::Bool)</code></pre><p>Create a <code>Winding</code> by combining several <code>WindingLayers</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/types.jl#L170-L176">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.Magnetics" href="#PlanerTransformer.Magnetics"><code>PlanerTransformer.Magnetics</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Magnetics(fp::FerriteProperties, cores::Array{CoreGeometry,1})</code></pre><p>All magnetic information for <code>Transformer</code> in one object.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/types.jl#L200-L204">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.Transformer" href="#PlanerTransformer.Transformer"><code>PlanerTransformer.Transformer</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Transformer(m::Magnetics,w::Array{Winding,1})</code></pre><p><code>Transformer</code> is a combination of <code>Magnetics</code> and two or more <code>Winding</code>s.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/types.jl#L229-L233">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.turns" href="#PlanerTransformer.turns"><code>PlanerTransformer.turns</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">turns(windinglayer::WindingLayer)
turns(winding::Winding)
turns(transformer::Transformer)</code></pre><p>Number of turns, Array for <code>Transformer</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/methods.jl#L119-L125">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.winding_resistance" href="#PlanerTransformer.winding_resistance"><code>PlanerTransformer.winding_resistance</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">winding_resistance(wl::WindingLayer, ρ)
winding_resistance(wl::WindingLayer, pcb::PCB_Specification, temperature=100.0)
winding_resistance(w::Winding, temperature=100.0)</code></pre><p>Returns the resistance of a <code>Winding</code> or <code>WindingLayer</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/methods.jl#L202-L208">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.TransformerPowerDissipation" href="#PlanerTransformer.TransformerPowerDissipation"><code>PlanerTransformer.TransformerPowerDissipation</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">TransformerPowerDissipation(t::Transformer, input::Array{Float64,1}, frequency)</code></pre><p>Computes power dissipation of transformer.</p><p>The first element of the input array is the peak to peak voltage applied to the first winding.  The following elements are the load currents in the output windings.  Returns a <code>TransformerPowerDissipation</code> object.</p><p><strong>Fields</strong></p><ul><li><p><code>transformer</code>             – from input</p></li><li><p><code>frequency</code>               – from input</p></li><li><p><code>flux_density</code>            – peak flux density (Tesla)</p></li><li><p><code>winding_voltage</code>         – peak to peak voltage on each winding</p></li><li><p><code>core_specific_power</code>     – power dissipated in core (W/m^3)</p></li><li><p><code>core_total_power</code>        – power dissipated in core (W)</p></li><li><p><code>winding_power</code>           – power dissipated in each winding (W)</p></li><li><p><code>total_power</code>             – <code>core_total_power +sum(winding_power)</code></p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/TransformerPowerDissipation.jl#L3-L21">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.volt_seconds_per_turn" href="#PlanerTransformer.volt_seconds_per_turn"><code>PlanerTransformer.volt_seconds_per_turn</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">volt_seconds_per_turn(effective_area, flux_density_pp)
volt_seconds_per_turn(cg::CoreGeometry, flux_density_pp)
volt_seconds_per_turn(m::Magnetics, flux_density_pp)
volt_seconds_per_turn(t::Transformer, flux_density_pp)</code></pre><p>Volt seconds per turn at <code>flux_density_pp</code>.  The first form is just an alias for multiply.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/methods.jl#L141-L148">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.volt_seconds" href="#PlanerTransformer.volt_seconds"><code>PlanerTransformer.volt_seconds</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">volt_seconds(t::Transformer, flux_density_pp)</code></pre><p>Volt seconds at <code>flux_density_pp</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/methods.jl#L158-L162">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.equivalent_parallel_resistance" href="#PlanerTransformer.equivalent_parallel_resistance"><code>PlanerTransformer.equivalent_parallel_resistance</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">equivalent_parallel_resistance(tansformer::Transformer,
                               volts,
                               frequency=center_frequency(transformer),
                               turns=1,
                               ishot::Bool=true)</code></pre><p>Parallel resistance for spice model for correct power dissipation.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/methods.jl#L229-L237">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.chan_inductor" href="#PlanerTransformer.chan_inductor"><code>PlanerTransformer.chan_inductor</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">chan_inductor(ferriteproperties, effective_area, effective_length,ishot=true)
chan_inductor(magnetics, ishot=true)
chan_inductor(transformer, ishot=true)</code></pre><p>Parameters for LTspice <a href="http://ltwiki.org/?title=The_Chan_model">Chan inductor</a> to be used for magnetizing inductance.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/methods.jl#L277-L284">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.volts_per_turn" href="#PlanerTransformer.volts_per_turn"><code>PlanerTransformer.volts_per_turn</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">volts_per_turn(cg::CoreGeometry,
               fp::FerriteProperties, loss_limit, frequency)</code></pre><p>Returns the maximum volts per turn.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/methods.jl#L168-L173">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.specific_power_loss" href="#PlanerTransformer.specific_power_loss"><code>PlanerTransformer.specific_power_loss</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">specific_power_loss(spl::SpecificPowerLossData, flux_density, frequency)
specific_power_loss(fp::FerriteProperties, flux_density, frequency)
specific_power_loss(m::Magnetics, flux_density, frequency)
specific_power_loss(t::Transformer, flux_density, frequency)</code></pre><p>Returns specific power loss.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/methods.jl#L20-L27">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PlanerTransformer.flux_density" href="#PlanerTransformer.flux_density"><code>PlanerTransformer.flux_density</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">flux_density(spl::SpecificPowerLossData, coreloss, frequency)
flux_density(fp::FerriteProperties, coreloss, frequency)
flux_density(m::Magnetics, coreloss, frequency)
flux_density(t::Transformer, coreloss, frequency)</code></pre><p>Returns magnetic field strength in Tesla.</p></div><a class="source-link" target="_blank" href="https://github.com/cstook/PlanerTransformer.jl/tree/c28850ee3cfd118352e2d6c07220f09fe5b89aeb/src/methods.jl#L50-L57">source</a><br/></section><footer><hr/><a class="previous" href="../introduction/"><span class="direction">Previous</span><span class="title">Introduction</span></a><a class="next" href="../data_entry_api/"><span class="direction">Next</span><span class="title">Data Entry API</span></a></footer></article></body></html>
